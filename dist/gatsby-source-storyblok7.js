"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const c=require("react"),s=(e,r,o={})=>{var d;const n=!(typeof window>"u")&&typeof window.storyblokRegisterEvent<"u",a=+new URL((d=window.location)==null?void 0:d.href).searchParams.get("_storyblok")===e;if(!n||!a)return;if(!e){console.warn("Story ID is not defined. Please provide a valid ID.");return}const u=()=>fetch("__refresh",{method:"post"});window.storyblokRegisterEvent(()=>{new window.StoryblokBridge(o).on(["input","published","change"],async t=>{t.action==="input"&&t.story.id===e?r(t.story):(t.action==="change"||t.action==="published")&&t.storyId===e&&(await u(),setTimeout(()=>{window.location.reload()},50))})})};function y(e,r={}){typeof e.content=="string"&&(e.content=JSON.parse(e.content));let[o,i]=c.useState(e);return c.useEffect(()=>{s(o.internalId,n=>i(n),r)},[]),o}exports.registerStoryblokBridge=s;exports.useStoryblokBridge=s;exports.useStoryblokState=y;
